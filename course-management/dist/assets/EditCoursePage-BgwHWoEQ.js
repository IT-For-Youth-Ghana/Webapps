import{_ as L,c as r,e as A,a as t,r as F,q as a,v as u,s as x,b as _,j as R,d as m,t as B,F as f,f as y,x as C,l as O,g as q,h as T,o as N,y as H,u as z,i as d}from"./index-CP_3XprM.js";import"pinia";const W={name:"EditCoursePage",setup(){const v=z(),e=H();O();const h=q(null),s=q({id:null,title:"",description:"",category:"",level:"",duration:8,price:0,image:"",objectives:[""],prerequisites:[""],settings:{isPublic:!0,allowDiscussions:!0,requireApproval:!1,certificateEnabled:!0},syllabus:[{title:"",lessons:[{title:"",type:"video"}]}]}),k=T(()=>s.value.title.trim()&&s.value.description.trim()&&s.value.category&&s.value.level),w=async()=>{const p={id:e.params.id,title:"Vue.js Complete Guide",description:"Master Vue.js framework with hands-on projects and real-world examples",category:"web-development",level:"intermediate",duration:6,price:299.99,image:"https://picsum.photos/seed/vuejs/800/450.jpg",objectives:["Build dynamic web applications with Vue.js","Understand the Vue component system","Manage application state with Vuex","Handle routing with Vue Router"],prerequisites:["Basic knowledge of HTML and CSS","JavaScript fundamentals","Understanding of ES6+ features"],settings:{isPublic:!0,allowDiscussions:!0,requireApproval:!1,certificateEnabled:!0},syllabus:[{title:"Vue.js Fundamentals",lessons:[{title:"Introduction to Vue.js",type:"video"},{title:"Vue Instance and Data Binding",type:"video"},{title:"Directives and Event Handling",type:"video"},{title:"Vue Fundamentals Quiz",type:"quiz"}]},{title:"Components and Communication",lessons:[{title:"Creating Components",type:"video"},{title:"Props and Custom Events",type:"video"},{title:"Component Communication Exercise",type:"assignment"}]},{title:"Advanced Vue Features",lessons:[{title:"Vue Router Setup",type:"video"},{title:"State Management with Vuex",type:"video"},{title:"Final Project",type:"assignment"}]}]};s.value={...p}},V=l=>{const p=l.target.files[0];if(p){const b=new FileReader;b.onload=I=>{s.value.image=I.target.result},b.readAsDataURL(p)}},o=()=>{s.value.objectives.push("")},i=l=>{s.value.objectives.length>1&&s.value.objectives.splice(l,1)},n=()=>{s.value.prerequisites.push("")},g=l=>{s.value.prerequisites.length>1&&s.value.prerequisites.splice(l,1)},c=()=>{s.value.syllabus.push({title:"",lessons:[{title:"",type:"video"}]})},U=l=>{s.value.syllabus.length>1&&s.value.syllabus.splice(l,1)},j=l=>{s.value.syllabus[l].lessons.push({title:"",type:"video"})},D=(l,p)=>{const b=s.value.syllabus[l];b.lessons.length>1&&b.lessons.splice(p,1)},P=()=>{v.push(`/teacher/courses/${s.value.id}/preview`)},S=async()=>{if(!k.value){alert("Please fill in all required fields");return}try{s.value.objectives=s.value.objectives.filter(l=>l.trim()),s.value.prerequisites=s.value.prerequisites.filter(l=>l.trim()),console.log("Saving course:",s.value),alert("Course updated successfully!"),v.push("/teacher/courses")}catch(l){console.error("Error saving course:",l),alert("Failed to save course. Please try again.")}},E=async()=>{try{console.log("Saving course as draft:",s.value),alert("Course saved as draft!")}catch(l){console.error("Error saving draft:",l),alert("Failed to save draft. Please try again.")}},M=()=>{confirm("Are you sure you want to cancel? Unsaved changes will be lost.")&&v.push("/teacher/courses")};return N(()=>{w()}),{course:s,imageInput:h,isFormValid:k,handleImageUpload:V,addObjective:o,removeObjective:i,addPrerequisite:n,removePrerequisite:g,addModule:c,removeModule:U,addLesson:j,removeLesson:D,previewCourse:P,saveCourse:S,saveDraft:E,cancelEdit:M}}},G={class:"edit-course fade-in"},Q={class:"content-wrapper"},J={class:"course-form"},X={class:"form-section card"},K={class:"form-grid"},Y={class:"form-group full-width"},Z={class:"form-group"},$={class:"form-group"},ee={class:"form-group"},te={class:"form-group"},se={class:"form-group full-width"},oe={class:"form-section glass-card"},le={class:"image-upload-section"},ie={key:0,class:"current-image"},ne=["src","alt"],ae={class:"upload-area"},re={class:"form-section glass-card"},de={class:"objectives-list"},ue=["onUpdate:modelValue"],ce=["onClick"],pe={class:"form-section glass-card"},ve={class:"prerequisites-list"},be=["onUpdate:modelValue"],me=["onClick"],ge={class:"form-section glass-card"},fe={class:"settings-grid"},ye={class:"setting-item"},Ce={class:"checkbox-label"},ke={class:"setting-item"},Ve={class:"checkbox-label"},xe={class:"setting-item"},he={class:"checkbox-label"},we={class:"setting-item"},qe={class:"checkbox-label"},Ue={class:"form-section glass-card"},je={class:"syllabus-list"},De={class:"module-header"},Pe=["onUpdate:modelValue"],Se=["onClick"],Ee={class:"lessons-list"},Me=["onUpdate:modelValue"],Ie=["onUpdate:modelValue"],Le=["onClick"],Ae=["onClick"],Fe={class:"form-actions"},_e=["disabled"];function Re(v,e,h,s,k,w){const V=F("TeacherHeader");return d(),r("div",G,[A(V,{"show-create-button":!0,"create-button-text":"Preview",onCreateNew:s.previewCourse},null,8,["onCreateNew"]),t("div",Q,[t("div",J,[t("div",X,[e[26]||(e[26]=t("h2",{class:"section-title"},"Basic Information",-1)),t("div",K,[t("div",Y,[e[18]||(e[18]=t("label",{for:"courseTitle",class:"form-label"},"Course Title *",-1)),a(t("input",{id:"courseTitle","onUpdate:modelValue":e[0]||(e[0]=o=>s.course.title=o),type:"text",class:"input-field",placeholder:"Enter course title",required:""},null,512),[[u,s.course.title]])]),t("div",Z,[e[20]||(e[20]=t("label",{for:"courseCategory",class:"form-label"},"Category *",-1)),a(t("select",{id:"courseCategory","onUpdate:modelValue":e[1]||(e[1]=o=>s.course.category=o),class:"input-field",required:""},[...e[19]||(e[19]=[_('<option value="" data-v-dc051940>Select Category</option><option value="web-development" data-v-dc051940>Web Development</option><option value="mobile-development" data-v-dc051940>Mobile Development</option><option value="data-science" data-v-dc051940>Data Science</option><option value="ui-ux-design" data-v-dc051940>UI/UX Design</option><option value="database" data-v-dc051940>Database</option><option value="devops" data-v-dc051940>DevOps</option>',7)])],512),[[x,s.course.category]])]),t("div",$,[e[22]||(e[22]=t("label",{for:"courseLevel",class:"form-label"},"Level *",-1)),a(t("select",{id:"courseLevel","onUpdate:modelValue":e[2]||(e[2]=o=>s.course.level=o),class:"form-select",required:""},[...e[21]||(e[21]=[t("option",{value:""},"Select Level",-1),t("option",{value:"beginner"},"Beginner",-1),t("option",{value:"intermediate"},"Intermediate",-1),t("option",{value:"advanced"},"Advanced",-1)])],512),[[x,s.course.level]])]),t("div",ee,[e[23]||(e[23]=t("label",{for:"courseDuration",class:"form-label"},"Duration (weeks)",-1)),a(t("input",{id:"courseDuration","onUpdate:modelValue":e[3]||(e[3]=o=>s.course.duration=o),type:"number",class:"form-input",placeholder:"8",min:"1",max:"52"},null,512),[[u,s.course.duration,void 0,{number:!0}]])]),t("div",te,[e[24]||(e[24]=t("label",{for:"coursePrice",class:"form-label"},"Price (GHS)",-1)),a(t("input",{id:"coursePrice","onUpdate:modelValue":e[4]||(e[4]=o=>s.course.price=o),type:"number",class:"form-input",placeholder:"0",min:"0",step:"0.01"},null,512),[[u,s.course.price,void 0,{number:!0}]])]),t("div",se,[e[25]||(e[25]=t("label",{for:"courseDescription",class:"form-label"},"Description *",-1)),a(t("textarea",{id:"courseDescription","onUpdate:modelValue":e[5]||(e[5]=o=>s.course.description=o),class:"form-textarea",placeholder:"Describe what students will learn in this course",rows:"4",required:""},null,512),[[u,s.course.description]])])])]),t("div",oe,[e[29]||(e[29]=t("h2",{class:"section-title"},"ðŸ–¼ï¸ Course Image",-1)),t("div",le,[s.course.image?(d(),r("div",ie,[t("img",{src:s.course.image,alt:s.course.title,class:"course-image-preview"},null,8,ne)])):R("",!0),t("div",ae,[t("input",{type:"file",ref:"imageInput",onChange:e[6]||(e[6]=(...o)=>s.handleImageUpload&&s.handleImageUpload(...o)),accept:"image/*",class:"file-input",hidden:""},null,544),t("button",{type:"button",class:"btn btn-outline",onClick:e[7]||(e[7]=o=>v.$refs.imageInput.click())},[e[27]||(e[27]=t("span",{class:"btn-icon"},"ðŸ“Ž",-1)),m(" "+B(s.course.image?"Change Image":"Upload Image"),1)]),e[28]||(e[28]=t("p",{class:"upload-hint"},"Recommended size: 800x450px (16:9 ratio)",-1))])])]),t("div",re,[e[31]||(e[31]=t("h2",{class:"section-title"},"ðŸŽ¯ Learning Objectives",-1)),t("div",de,[(d(!0),r(f,null,y(s.course.objectives,(o,i)=>(d(),r("div",{key:i,class:"objective-item"},[a(t("input",{"onUpdate:modelValue":n=>s.course.objectives[i]=n,type:"text",class:"form-input",placeholder:"What will students learn?"},null,8,ue),[[u,s.course.objectives[i]]]),t("button",{type:"button",class:"btn btn-danger btn-sm",onClick:n=>s.removeObjective(i)}," âœ• ",8,ce)]))),128)),t("button",{type:"button",class:"btn btn-secondary btn-add",onClick:e[8]||(e[8]=(...o)=>s.addObjective&&s.addObjective(...o))},[...e[30]||(e[30]=[t("span",{class:"btn-icon"},"âž•",-1),m(" Add Objective ",-1)])])])]),t("div",pe,[e[33]||(e[33]=t("h2",{class:"section-title"},"ðŸ“š Prerequisites",-1)),t("div",ve,[(d(!0),r(f,null,y(s.course.prerequisites,(o,i)=>(d(),r("div",{key:i,class:"prerequisite-item"},[a(t("input",{"onUpdate:modelValue":n=>s.course.prerequisites[i]=n,type:"text",class:"form-input",placeholder:"What should students know beforehand?"},null,8,be),[[u,s.course.prerequisites[i]]]),t("button",{type:"button",class:"btn btn-danger btn-sm",onClick:n=>s.removePrerequisite(i)}," âœ• ",8,me)]))),128)),t("button",{type:"button",class:"btn btn-secondary btn-add",onClick:e[9]||(e[9]=(...o)=>s.addPrerequisite&&s.addPrerequisite(...o))},[...e[32]||(e[32]=[t("span",{class:"btn-icon"},"âž•",-1),m(" Add Prerequisite ",-1)])])])]),t("div",ge,[e[42]||(e[42]=t("h2",{class:"section-title"},"âš™ï¸ Course Settings",-1)),t("div",fe,[t("div",ye,[t("label",Ce,[a(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.course.settings.isPublic=o),type:"checkbox",class:"checkbox-input"},null,512),[[C,s.course.settings.isPublic]]),e[34]||(e[34]=t("span",{class:"checkbox-custom"},null,-1)),e[35]||(e[35]=t("span",{class:"checkbox-text"},"Make course publicly visible",-1))])]),t("div",ke,[t("label",Ve,[a(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.course.settings.allowDiscussions=o),type:"checkbox",class:"checkbox-input"},null,512),[[C,s.course.settings.allowDiscussions]]),e[36]||(e[36]=t("span",{class:"checkbox-custom"},null,-1)),e[37]||(e[37]=t("span",{class:"checkbox-text"},"Enable course discussions",-1))])]),t("div",xe,[t("label",he,[a(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.course.settings.requireApproval=o),type:"checkbox",class:"checkbox-input"},null,512),[[C,s.course.settings.requireApproval]]),e[38]||(e[38]=t("span",{class:"checkbox-custom"},null,-1)),e[39]||(e[39]=t("span",{class:"checkbox-text"},"Require enrollment approval",-1))])]),t("div",we,[t("label",qe,[a(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.course.settings.certificateEnabled=o),type:"checkbox",class:"checkbox-input"},null,512),[[C,s.course.settings.certificateEnabled]]),e[40]||(e[40]=t("span",{class:"checkbox-custom"},null,-1)),e[41]||(e[41]=t("span",{class:"checkbox-text"},"Issue completion certificates",-1))])])])]),t("div",Ue,[e[45]||(e[45]=t("h2",{class:"section-title"},"ðŸ“– Course Syllabus",-1)),t("div",je,[(d(!0),r(f,null,y(s.course.syllabus,(o,i)=>(d(),r("div",{key:i,class:"module-item"},[t("div",De,[a(t("input",{"onUpdate:modelValue":n=>o.title=n,type:"text",class:"form-input module-title-input",placeholder:"Module title"},null,8,Pe),[[u,o.title]]),t("button",{type:"button",class:"btn btn-danger btn-sm",onClick:n=>s.removeModule(i)}," âœ• ",8,Se)]),t("div",Ee,[(d(!0),r(f,null,y(o.lessons,(n,g)=>(d(),r("div",{key:g,class:"lesson-item"},[a(t("input",{"onUpdate:modelValue":c=>n.title=c,type:"text",class:"form-input lesson-input",placeholder:"Lesson title"},null,8,Me),[[u,n.title]]),a(t("select",{"onUpdate:modelValue":c=>n.type=c,class:"form-select lesson-type"},[...e[43]||(e[43]=[t("option",{value:"video"},"Video",-1),t("option",{value:"text"},"Reading",-1),t("option",{value:"quiz"},"Quiz",-1),t("option",{value:"assignment"},"Assignment",-1)])],8,Ie),[[x,n.type]]),t("button",{type:"button",class:"btn btn-danger btn-xs",onClick:c=>s.removeLesson(i,g)}," âœ• ",8,Le)]))),128)),t("button",{type:"button",class:"btn btn-outline btn-sm",onClick:n=>s.addLesson(i)}," âž• Add Lesson ",8,Ae)])]))),128)),t("button",{type:"button",class:"btn btn-secondary btn-add",onClick:e[14]||(e[14]=(...o)=>s.addModule&&s.addModule(...o))},[...e[44]||(e[44]=[t("span",{class:"btn-icon"},"âž•",-1),m(" Add Module ",-1)])])])]),t("div",Fe,[t("button",{type:"button",class:"btn btn-ghost",onClick:e[15]||(e[15]=(...o)=>s.cancelEdit&&s.cancelEdit(...o))}," Cancel "),t("button",{type:"button",class:"btn btn-outline",onClick:e[16]||(e[16]=(...o)=>s.saveDraft&&s.saveDraft(...o))}," Save as Draft "),t("button",{type:"button",class:"btn btn-primary",onClick:e[17]||(e[17]=(...o)=>s.saveCourse&&s.saveCourse(...o)),disabled:!s.isFormValid},[...e[46]||(e[46]=[t("span",{class:"btn-icon"},"ðŸ’¾",-1),m(" Save Changes ",-1)])],8,_e)])])])])}const Te=L(W,[["render",Re],["__scopeId","data-v-dc051940"]]);export{Te as default};
